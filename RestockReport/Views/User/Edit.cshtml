@using RestockReport.Models;
@model RestockReport.Models.tblUser

<head>

    @*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css" />
        <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.7/css/responsive.dataTables.min.css" />*@


    <link href="~/assets/css/datatable/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="~/assets/css/datatable/responsive.dataTables.min.css" rel="stylesheet" />

    <link href="~/assets/css/sweetalert.min.css" rel="stylesheet" />

    <style>

        .myAlert-bottom {
            position: fixed;
            bottom: 5px;
            width: 35%;
            left: 75%;
        }

        .alert {
            display: none;
        }

        .bold {
            font-weight: Bold;
        }

        .modal-header {
            background-color: #8dc745 !important;
            color: white;
            padding: 10px;
        }

        .modal-body {
            padding: 0.9rem !important;
        }

        .card-body {
            padding: 1rem !important;
        }
    </style>
</head>
<div class="content container-fluid">
    <input name="User_ID" id="txtUserId" value="@ViewBag.UserId" hidden />
    <!-- Page Header -->
    <div class="page-header">
        <div class="row">
            <div class="col-sm-7 col-auto">
                <h3 class="page-title">User Information: @ViewBag.User_Login_ID</h3>
            </div>
            <div class="col-sm-5 col">
                <a href="@Url.Action("Index", "User")" style="        background-color: #8dc745 !important;
        border: 1px solid #8dc745
" class="btn btn-primary float-right mt-2">User List</a>
            </div>
        </div>
    </div>
    <!-- /Page Header -->
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <ul class="nav nav-tabs nav-tabs-solid">
                        <li style="        border: 1px solid #8dc745
" class="nav-item"><a id="UserDetails" class="nav-link active" href="#solid-tab1" data-toggle="tab">USER DETAILS</a></li>
                        <li style="        border: 1px solid #8dc745
" class="nav-item"><a id="Terminals" class="nav-link" href="#solid-tab2" data-toggle="tab">TERMINALS</a></li>
                        <li style="        border: 1px solid #8dc745
" class="nav-item"><a id="Terminals" class="nav-link" href="#solid-tab3" data-toggle="tab">SEGMENTED TERMINAL</a></li>
                        <li style="        border: 1px solid #8dc745
" class="nav-item"><a id="Permissions" class="nav-link" href="#solid-tab4" data-toggle="tab">PERMISSIONS</a></li>

                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane show active" id="solid-tab1">
                            <div class="card">
                                <div class="card-body">
                                    @*@using (Html.BeginForm("Edit", "User", FormMethod.Post))
                                        {
                                            @Html.AntiForgeryToken()*@
                                    <form>
                                        @Html.HiddenFor(model => model.User_ID)
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>
                                                                User ID:  <small id="lblUserIdError" style="color: red;display: none"> Enter User ID. </small>
                                                                <small id="lblUserIdDuplicate" style="color: red;display: none">User Already Register </small>
                                                            </label>
                                                            @Html.EditorFor(model => model.User_ID, new { htmlAttributes = new { style = "display:none", @class = "form-control", id = "txtUser_PID", @readonly = "readonly" } })

                                                            @Html.EditorFor(model => model.UserID, new { htmlAttributes = new { @class = "form-control", id = "txtUser_ID", @readonly = "readonly" } })

                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Password: <small id="lblUserPassword" style="color: red;display: none"> Enter User Password. </small></label>
                                                            <input type="password" class="form-control" id="txtUser_Password" name="Password" value="@Model.Password">


                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Confirm Password:</label><small id="lblUserConfirmPassword" style="color: red;display: none"> Enter Password </small>

                                                            <small id="lblUserPasswordUnMatched" style="color: red;display: none"> Password Not Match </small>
                                                            <input type="password" class="form-control" id="txtUser_Confirm_Password" value="@Model.Password">

                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Status:</label>
                                                            <select onchange="DeleteUser()" id="ddlUserStatus" class="select select2-hidden-accessible" tabindex="-1" aria-hidden="true" name="IsActive">
                                                                @*<option>Select Status</option>*@
                                                                @if (Model.IsActive == true)
                                                                {

                                                                    <option value="1" selected>Active</option>
                                                                    <option value="0">Disable</option>
                                                                    <option value="-1">Deleted</option>
                                                                }
                                                                @if (Model.IsActive == false)
                                                                {

                                                                    <option value="1">Active</option>
                                                                    <option value="0" selected>Disable</option>
                                                                    <option value="-1">Deleted</option>
                                                                }

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>First Name:</label>
                                                            @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control", id = "txtFirstName" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Last Name:</label>
                                                            @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control", id = "txtLastName" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Title:</label>
                                                            <select id="ddlUserTitle" class="select select2-hidden-accessible" tabindex="-1" aria-hidden="true" name="Title">
                                                                <option>Select Title</option>
                                                                @if (Model.Title == 0)
                                                                {
                                                                    <option selected value="0">Select Title</option>
                                                                    <option value="1">Owner</option>
                                                                    <option value="2">Manager</option>
                                                                    <option value="3">Tech</option>
                                                                    <option value="4">Cash Loader</option>
                                                                    <option value="5">Other</option>
                                                                }
                                                                else if (Model.Title == 1)
                                                                {
                                                                    <option value="0">Select Title</option>
                                                                    <option selected value="1">Owner</option>
                                                                    <option value="2">Manager</option>
                                                                    <option value="3">Tech</option>
                                                                    <option value="4">Cash Loader</option>
                                                                    <option value="5">Other</option>
                                                                }
                                                                else if (Model.Title == 2)
                                                                {
                                                                    <option value="0">Select Title</option>
                                                                    <option value="1">Owner</option>
                                                                    <option selected value="2">Manager</option>
                                                                    <option value="3">Tech</option>
                                                                    <option value="4">Cash Loader</option>
                                                                    <option value="5">Other</option>
                                                                }
                                                                else if (Model.Title == 3)
                                                                {
                                                                    <option value="0">Select Title</option>
                                                                    <option value="1">Owner</option>
                                                                    <option value="2">Manager</option>
                                                                    <option selected value="3">Tech</option>
                                                                    <option value="4">Cash Loader</option>
                                                                    <option value="5">Other</option>
                                                                }
                                                                else if (Model.Title == 4)
                                                                {
                                                                    <option value="0">Select Title</option>
                                                                    <option value="1">Owner</option>
                                                                    <option value="2">Manager</option>
                                                                    <option value="3">Tech</option>
                                                                    <option selected value="4">Cash Loader</option>
                                                                    <option value="5">Other</option>
                                                                }
                                                                else if (Model.Title == 5)
                                                                {
                                                                    <option value="0">Select Title</option>
                                                                    <option value="1">Owner</option>
                                                                    <option value="2">Manager</option>
                                                                    <option value="3">Tech</option>
                                                                    <option value="4">Cash Loader</option>
                                                                    <option selected value="5">Other</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Company:</label>
                                                            @Html.EditorFor(model => model.Company, new { htmlAttributes = new { @class = "form-control", id = "txtCompany" } })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Address:</label>
                                                            @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control", id = "txtAddress" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>City:</label>
                                                            @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control", id = "txtCity" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Province:</label>
                                                            @Html.DropDownList("ddlRegion", ViewBag.RegionList as IEnumerable<SelectListItem>, "Select Region",
new { @class = "form-control js-example-basic-multiple", @required = "required", @id = "ddlRegion" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Postal Code:</label>
                                                            @Html.EditorFor(model => model.Postalcode, new { htmlAttributes = new { @class = "form-control", id = "txtPostalCode" } })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Phone Cell:</label>
                                                            @Html.EditorFor(model => model.Phonecell, new { htmlAttributes = new { @class = "form-control", id = "txtPhone" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Phone Other:</label>
                                                            @Html.EditorFor(model => model.Phoneother, new { htmlAttributes = new { @class = "form-control", id = "txtPhoneOther" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Email Address:</label>
                                                            @Html.EditorFor(model => model.Email_Adress, new { htmlAttributes = new { @class = "form-control", id = "txtUserEmail" } })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label>Roll Assigned:</label>
                                                            <select id="ddlUserRoll" class="select select2-hidden-accessible" tabindex="-1" aria-hidden="true" name="RollAssigned">

                                                                @if (Model.RollAssigned == 0)
                                                                {
                                                                    <option selected value="0">Select Roll</option>
                                                                    <option value="1">Merchant</option>
                                                                    <option value="2">ISO</option>
                                                                    <option value="3">Super User</option>
                                                                }

                                                                else if (Model.RollAssigned == 1)
                                                                {
                                                                    <option value="0">Select Roll</option>
                                                                    <option selected value="1">Merchant</option>
                                                                    <option value="2">ISO</option>
                                                                    <option value="3">Super User</option>
                                                                }
                                                                else if (Model.RollAssigned == 2)
                                                                {
                                                                    <option value="0">Select Roll</option>
                                                                    <option value="1">Merchant</option>
                                                                    <option selected value="2">ISO</option>
                                                                    <option value="3">Super User</option>
                                                                }
                                                                else if (Model.RollAssigned == 3)
                                                                {
                                                                    <option value="0">Select Roll</option>
                                                                    <option value="1">Merchant</option>
                                                                    <option value="2">ISO</option>
                                                                    <option selected value="3">Super User</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>Access Level: <small id="lblAccessLevelError" style="color: red;display: none"> Select Access Level </small></label>
                                                    <select id="ddlUserAccessLevel" required name="ddlUserAccessLevel" class="form-control js-example-basic-single">
                                                        <option value="0">Select Acceess Level</option>
                                                        @foreach (var item in ViewBag.Access_Level)
                                                        {
                                                            <text>

                                                                @*@if (ViewBag.Access_Level_Id == item.Access_ID)
                                                                    {
                                                                        <option selected value="@item.Access_ID">@item.Access_Level_Type</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item.Access_ID">@item.Access_Level_Type</option>
                                                                    }*@

                                                                <option value="@item.Access_ID">@item.Access_Level_Type</option>

                                                            </text>
                                                        }

                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <label style="visibility:hidden">Access Level:</label>
                                                <br />
                                                <button onclick="SaveUserInformation()" style="        background-color: #8dc745 !important;
        border: 1px solid #8dc745" type="button" class="btn btn-primary" id="Register">
                                                    Submit
                                                </button>

                                            </div>
                                            @*<div class="col-md-7"></div>*@

                                        </div>

                                    </form>
                                    @*}*@
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="solid-tab2">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="page-title">ASSIGN TERMINALS VISIBLE TO USER</h4>
                                </div>
                                <div class="col-md-6">
                                    <div class="btn-group" style="float:right">

                                        <a name="Filter" id="btnaddAll"
                                           onclick="UserTerminalRightsStatus(0, @ViewBag.UserId,'',1)"
                                           style="color:white !important;background-color: darkgreen !important" class="btn btn-secondary FilterButton"><i class="fa fa-check"></i> Assign All</a> &nbsp;&nbsp;
                                        <a name="Filter" onclick="UserTerminalRightsStatus(0, @ViewBag.UserId,'',2)" style="color: white !important; background-color: red !important;border:1px solid red" class="btn btn-success FilterButton">
                                            <i class="fa fa-close"></i> Unassign All
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="table-responsive">
                                <table class="table table-hover table-center mb-0 " id="tblUserTerminalList">
                                    <thead>
                                        <tr>
                                            @*<th hidden>User_ID</th>*@
                                            <th>Terminal ID</th>
                                            <th>Terminal Name</th>
                                            <th style="width:50% !important">Start Date</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in ViewBag.TerminalList)
                                        {
                                            <tr>
                                                @*<td class="User_ID" hidden>model => model.User_ID</td>*@
                                                <td>@item.TerminalKey</td>

                                                <td>@item.TerminalName</td>

                                                @if (item.StartDate != null)
                                                {
                                                    <td><input  style="width:50% !important" onchange="UpdateStartDate('txtReportDate_@item.TerminalKey','@item.TerminalKey',@ViewBag.UserId)" name="ReportDate" id="txtReportDate_@item.TerminalKey" type="date" value="@item.StartDate.ToString("yyyy-MM-dd")" class="form-control"></td>
                                                }
                                                else
                                                {
                                                    <td><input  style="width:50% !important" onchange="UpdateStartDate('txtReportDate_@item.TerminalKey','@item.TerminalKey',@ViewBag.UserId)" name="ReportDate" id="txtReportDate_@item.TerminalKey" type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")" class="form-control"></td>
                                                }

                                                <td>
                                                    <div class="status-toggle">
                                                        @if (item.UserTerminalRightsStatus == 1)
                                                        {
                                                            <input name="UserTerminalRights" onclick="UserTerminalRightsStatus(this, @ViewBag.UserId,'@item.TerminalKey',0)" type="checkbox" id="@item.TerminalKey" class="check" checked>
                                                        }
                                                        else
                                                        { <input name="UserTerminalRights" onclick="UserTerminalRightsStatus(this, @ViewBag.UserId,'@item.TerminalKey',0)" type="checkbox" id="@item.TerminalKey" class="check">

                                                        }


                                                        <label for="@item.TerminalKey" class="checktoggle">checkbox</label>
                                                    </div>
                                                </td>

                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>




                            <!--<div class="card">
                            <h5 class="card-title">Assign Terminal Visible to User</h5>
                            <div class="card-body" style="padding:30px">
                                <form action="#">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <h6 class="card-title">Available:</h6>
                                                        </div>
                                                        <div class="col-md-6 text-right">

                                                            <div class="actions ">
                                                                <a class="btn btn-sm bg-success-light">
                                                                    Add   <i class="fa fa-angle-right"></i><i class="fa fa-angle-right"></i>
                                                                </a>
                                                                <a onclick="AvailableAllTerminalToUser()" class="btn btn-sm bg-success-light">
                                                                    Add All  <i class="fa fa-angle-right"></i><i class="fa fa-angle-right"></i>
                                                                </a>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <div class="table-responsive">
                                                        <table class="datatable table table-hover table-center mb-0">
                                                            <tbody>
                                                                <tr>
                                                                    <td>-->
                            @*@Html.ListBoxFor("lstAvailableTerminal", ViewBag.RegionList as IEnumerable<SelectListItem>, "Select Region",
                                new { @class = "form-control js-example-basic-multiple", @required = "required", @id = "ddlRegion" })*@

                            @*@Html.ListBoxFor(ViewBag.RegionList as IEnumerable<SelectListItem>, Model.ListBoxList);*@

                            @*@Html.ListBox("lstAvailableTerminal", ViewBag.RegionList as IEnumerable<SelectListItem>, new { style = "width:100%" })*@


                            @*<select multiple="multiple" id="ddlAvailableTerminal"  class="form-control js-example-basic-single">

                                        @foreach (var item in ViewBag.AvailableTerminalList)
                                        {
                                            <text>
                                                <option value="@item.TerminalKey">@item.TerminalName</option>
                                            </text>
                                        }

                                    </select>
                                </td>*@
                            @*<td>#SP001 Abdul</td>*@
                            @*<td class="text-right">

                                    <div class="actions">
                                        <a class="btn btn-sm bg-success-light">
                                            Add <i class="fa fa-angle-right"></i>
                                        </a>
                                    </div>
                                </td>*@
                            <!--</tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-6">

                                        <div class="actions">
                                            <a class="btn btn-sm bg-danger-light">
                                                <i class="fa fa-angle-left"></i> Remove
                                            </a>
                                            <a class="btn btn-sm bg-danger-light">
                                                <i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i> Remove All
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <h6 class="card-title">Assigned:</h6>
                                    </div>

                                </div>

                                <div class="table-responsive">
                                    <table class="datatable table table-hover table-center mb-0">
                                        <tbody>
                                            <tr>
                                                <td>-->
                            @*@Html.ListBox("lstAvailableTerminal", ViewBag.RegionList as IEnumerable<SelectListItem>, new { style = "width:100%" })*@


                            @*<select   multiple="multiple"  id="ddlAssignedTerminal"  class="form-control js-example-basic-single">

                                        @foreach (var item in ViewBag.AissnedTerminalList)
                                        {
                                            <text>
                                                <option value="@item.TerminalKey">@item.TerminalName</option>
                                            </text>
                                        }

                                    </select>
                                </td>*@
                            @*<td class="text-left">
                                    <div class="actions">
                                        <div class="actions">
                                            <a class="btn btn-sm bg-danger-light">
                                                <i class="fa fa-angle-left"></i> Remove
                                            </a>
                                        </div>
                                    </div>
                                </td>
                                <td>#SP001 -- Urban Choice Market</td>*@
                            <!--</tr>

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>-->
                            @*<div class="card">
                                    <h5 class="card-title">Set Transaction Segment for User</h5>
                                    <div class="card-body">
                                        <form action="#">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="row">
                                                                <div class="col-md-6">
                                                                    <h6 class="card-title">Assigned:</h6>
                                                                </div>
                                                                <div class="col-md-6 text-right">

                                                                    <div class="actions ">
                                                                        <a class="btn btn-sm bg-success-light">
                                                                            Add All  <i class="fa fa-angle-right"></i><i class="fa fa-angle-right"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>


                                                            </div>

                                                            <div class="table-responsive">
                                                                <table class="datatable table table-hover table-center mb-0">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>#SP001 Abdul</td>
                                                                            <td class="text-right">
                                                                                <div class="actions">
                                                                                    <a class="btn btn-sm bg-success-light">
                                                                                        Add<i class="fa fa-angle-right"></i>
                                                                                    </a>
                                                                                </div>
                                                                            </td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="row">
                                                                <div class="col-md-6">

                                                                    <div class="actions">
                                                                        <a class="btn btn-sm bg-danger-light">
                                                                            <i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i> Remove All
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-6 text-right">
                                                                    <h6 class="card-title">Segmented:</h6>
                                                                </div>

                                                            </div>

                                                            <div class="table-responsive">
                                                                <table class="datatable table table-hover table-center mb-0">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="text-left">
                                                                                <div class="actions">
                                                                                    <div class="actions">
                                                                                        <a class="btn btn-sm bg-danger-light">
                                                                                            <i class="fa fa-angle-left"></i> Remove
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td>#SP001 -- Urban Choice Market</td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>*@
                        </div>

                        <div class="tab-pane" id="solid-tab3">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="page-title">SET TRANSACTION SEGMENTATION FOR USER</h4>
                                </div>
                                <div class="col-md-6">
                                    <div class="btn-group" style="float:right">

                                        <a name="Filter" id="btnaddAll"
                                           onclick="UserSegmentedTerminalRightsStatus(0, @ViewBag.UserId,'',1)"
                                           style="color:white !important;background-color: darkgreen !important" class="btn btn-secondary FilterButton"><i class="fa fa-check"></i> Assign All</a> &nbsp;&nbsp;
                                        <a name="Filter" onclick="UserSegmentedTerminalRightsStatus(0, @ViewBag.UserId,'',2)" style="color: white !important; background-color: red !important;
border:1px solid red" class="btn btn-success FilterButton"><i class="fa fa-close"></i> Unassign All</a>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="table-responsive">
                                <table class="table table-hover table-center mb-0 " id="tblUserSegmentedTerminalList">
                                    <thead>
                                        <tr>
                                            @*<th hidden>User_ID</th>*@
                                            <th>Terminal ID</th>
                                            <th>Terminal Name</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in ViewBag.TerminalSegmentedList)
                                        {
                                            <tr>
                                                @*<td class="User_ID" hidden>model => model.User_ID</td>*@
                                                <td>@item.TerminalKey</td>

                                                <td>@item.TerminalName</td>
                                                <td>
                                                    <div class="status-toggle">
                                                        @if (item.UserTerminalRightsStatus == 1)
                                                        {
                                                            <input name="SegmentedUserTerminalRights" onclick="UserSegmentedTerminalRightsStatus(this, @ViewBag.UserId,'@item.TerminalKey',0)" type="checkbox" id="S_@item.TerminalKey" class="check" checked>
                                                        }
                                                        else
                                                        { <input name="SegmentedUserTerminalRights" onclick="UserSegmentedTerminalRightsStatus(this, @ViewBag.UserId,'@item.TerminalKey',0)" type="checkbox" id="S_@item.TerminalKey" class="check">

                                                        }


                                                        <label for="S_@item.TerminalKey" class="checktoggle">checkbox</label>
                                                    </div>
                                                </td>

                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>




                            <!--<div class="card">
                            <h5 class="card-title">Assign Terminal Visible to User</h5>
                            <div class="card-body" style="padding:30px">
                                <form action="#">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <h6 class="card-title">Available:</h6>
                                                        </div>
                                                        <div class="col-md-6 text-right">

                                                            <div class="actions ">
                                                                <a class="btn btn-sm bg-success-light">
                                                                    Add   <i class="fa fa-angle-right"></i><i class="fa fa-angle-right"></i>
                                                                </a>
                                                                <a onclick="AvailableAllTerminalToUser()" class="btn btn-sm bg-success-light">
                                                                    Add All  <i class="fa fa-angle-right"></i><i class="fa fa-angle-right"></i>
                                                                </a>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <div class="table-responsive">
                                                        <table class="datatable table table-hover table-center mb-0">
                                                            <tbody>
                                                                <tr>
                                                                    <td>-->
                            @*@Html.ListBoxFor("lstAvailableTerminal", ViewBag.RegionList as IEnumerable<SelectListItem>, "Select Region",
                                new { @class = "form-control js-example-basic-multiple", @required = "required", @id = "ddlRegion" })*@

                            @*@Html.ListBoxFor(ViewBag.RegionList as IEnumerable<SelectListItem>, Model.ListBoxList);*@

                            @*@Html.ListBox("lstAvailableTerminal", ViewBag.RegionList as IEnumerable<SelectListItem>, new { style = "width:100%" })*@


                            @*<select multiple="multiple" id="ddlAvailableTerminal"  class="form-control js-example-basic-single">

                                        @foreach (var item in ViewBag.AvailableTerminalList)
                                        {
                                            <text>
                                                <option value="@item.TerminalKey">@item.TerminalName</option>
                                            </text>
                                        }

                                    </select>
                                </td>*@
                            @*<td>#SP001 Abdul</td>*@
                            @*<td class="text-right">

                                    <div class="actions">
                                        <a class="btn btn-sm bg-success-light">
                                            Add <i class="fa fa-angle-right"></i>
                                        </a>
                                    </div>
                                </td>*@
                            <!--</tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-6">

                                        <div class="actions">
                                            <a class="btn btn-sm bg-danger-light">
                                                <i class="fa fa-angle-left"></i> Remove
                                            </a>
                                            <a class="btn btn-sm bg-danger-light">
                                                <i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i> Remove All
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <h6 class="card-title">Assigned:</h6>
                                    </div>

                                </div>

                                <div class="table-responsive">
                                    <table class="datatable table table-hover table-center mb-0">
                                        <tbody>
                                            <tr>
                                                <td>-->
                            @*@Html.ListBox("lstAvailableTerminal", ViewBag.RegionList as IEnumerable<SelectListItem>, new { style = "width:100%" })*@


                            @*<select   multiple="multiple"  id="ddlAssignedTerminal"  class="form-control js-example-basic-single">

                                        @foreach (var item in ViewBag.AissnedTerminalList)
                                        {
                                            <text>
                                                <option value="@item.TerminalKey">@item.TerminalName</option>
                                            </text>
                                        }

                                    </select>
                                </td>*@
                            @*<td class="text-left">
                                    <div class="actions">
                                        <div class="actions">
                                            <a class="btn btn-sm bg-danger-light">
                                                <i class="fa fa-angle-left"></i> Remove
                                            </a>
                                        </div>
                                    </div>
                                </td>
                                <td>#SP001 -- Urban Choice Market</td>*@
                            <!--</tr>

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>-->
                            @*<div class="card">
                                    <h5 class="card-title">Set Transaction Segment for User</h5>
                                    <div class="card-body">
                                        <form action="#">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="row">
                                                                <div class="col-md-6">
                                                                    <h6 class="card-title">Assigned:</h6>
                                                                </div>
                                                                <div class="col-md-6 text-right">

                                                                    <div class="actions ">
                                                                        <a class="btn btn-sm bg-success-light">
                                                                            Add All  <i class="fa fa-angle-right"></i><i class="fa fa-angle-right"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>


                                                            </div>

                                                            <div class="table-responsive">
                                                                <table class="datatable table table-hover table-center mb-0">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>#SP001 Abdul</td>
                                                                            <td class="text-right">
                                                                                <div class="actions">
                                                                                    <a class="btn btn-sm bg-success-light">
                                                                                        Add<i class="fa fa-angle-right"></i>
                                                                                    </a>
                                                                                </div>
                                                                            </td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="row">
                                                                <div class="col-md-6">

                                                                    <div class="actions">
                                                                        <a class="btn btn-sm bg-danger-light">
                                                                            <i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i> Remove All
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-6 text-right">
                                                                    <h6 class="card-title">Segmented:</h6>
                                                                </div>

                                                            </div>

                                                            <div class="table-responsive">
                                                                <table class="datatable table table-hover table-center mb-0">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="text-left">
                                                                                <div class="actions">
                                                                                    <div class="actions">
                                                                                        <a class="btn btn-sm bg-danger-light">
                                                                                            <i class="fa fa-angle-left"></i> Remove
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td>#SP001 -- Urban Choice Market</td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>*@
                        </div>



                        <div class="tab-pane" id="solid-tab4">

                            <h4 class="page-title">PERMISSIONS ASSIGN TO USER</h4>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="bold">Access Level</label>
                                        <select onchange="ReloadAccessLevelMenu()" id="ddlAccessLevel" required name="ddlAccessLevel" class="form-control js-example-basic-single">

                                            <option value="0">Select Acceess Level</option>
                                            @foreach (var item in ViewBag.Access_Level)
                                            {
                                                <text>


                                                    @if (ViewBag.Access_Level_Id == item.Access_ID)
                                                    {
                                                        <option selected value="@item.Access_ID">@item.Access_Level_Type</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@item.Access_ID">@item.Access_Level_Type</option>
                                                    }


                                                </text>
                                            }

                                        </select>

                                    </div>
                                </div>
                                <div class="col-md-1">
                                    <label id="click" style="visibility:hidden"> Click</label>
                                    <a data-toggle="modal" data-target="#edit_Access_Level" style="width: 100%;Color: white;background-color: #8dc745 !important;border: 1px solid #8dc745" href="" class="btn btn-primary" type="submit"><i class="fa fa-plus"></i></a>


                                </div>
                                <div class="col-md-3">
                                    <br />
                                    <div id="ErrorSelectAccessLevl" class="alert alert-warning">

                                        <strong id="ErrorAccessMessage">   Select Access Level</strong>
                                    </div>

                                </div>

                            </div>

                            <div class="table-responsive">
                                <table class="table table-hover table-center mb-0 " id="tblUserTerminalList">
                                    <thead>
                                        <tr>
                                            @*<th hidden>User_ID</th>*@
                                            <th>Menu Name</th>
                                            <th>Permission</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in ViewBag.UserMenuList)
                                        {
                                            <tr>



                                                <td>@item.Page_Name</td>
                                                <td>
                                                    <div class="status-toggle">
                                                        @if (item.UserMenuRightsStatus == 1)
                                                        {
                                                            <input name="UserMenuRights" onclick="UserMenuRightsStatus(this, @ViewBag.Access_Level_Id,@item.Page_ID,@item.ParentId,@item.counts)" type="checkbox" id="@item.Page_ID" class="check" checked>
                                                        }
                                                        else
                                                        { <input name="UserMenuRights" onclick="UserMenuRightsStatus(this, @ViewBag.Access_Level_Id,@item.Page_ID,@item.ParentId,@item.counts)" type="checkbox" id="@item.Page_ID" class="check">

                                                        }


                                                        <label for="@item.Page_ID" class="checktoggle">checkbox</label>
                                                    </div>
                                                </td>

                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>

                            <div class="modal fade bd-example-modal-lg" id="edit_Access_Level" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-md">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title" id="myLargeModalLabel">
                                                <i class="fa fa-lock"></i>   Add Access Level

                                            </h4>
                                            <button style="color:white !important" class="close" type="button" data-dismiss="modal" aria-label="Close" data-original-title="" title=""><span aria-hidden="true">×</span></button>
                                        </div>
                                        <div class="modal-body">

                                            <div class="card">
                                                <div class="card-body">
                                                    <form action="#">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <div class="form-group">
                                                                            <label class="bold">Access Level Name: <small id="lblEnterAccessLevel" style="color: red;display: none"> Enter Access Level</small></label>

                                                                            <input required id="txtAccessLevel" type="text" class="form-control">

                                                                        </div>
                                                                    </div>

                                                                </div>



                                                            </div>
                                                        </div>

                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button class="btn btn-secondary" type="button" data-dismiss="modal" data-original-title="" title="">Close</button>
                                            <button onclick="SaveAccessLevel()" style="        background-color: #8dc745 !important;
        border: 1px solid #8dc745
" class="btn btn-primary" type="button" data-original-title="" title="">
                                                Save
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @*<div class="card">
                                    <h5 class="card-title">PERMISSION ASSIGN TO USER</h5>
                                    <div class="card-body">
                                        <form action="#">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div class="table-responsive">
                                                                <table class="datatable table table-hover table-center mb-0">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Menu Name</th>
                                                                            <th>Permission</th>

                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>Terminal</td>
                                                                            <td>
                                                                                <div class="status-toggle">
                                                                                    <input type="checkbox" id="status_1" class="check" checked>
                                                                                    <label for="status_1" class="checktoggle">checkbox</label>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>User Management</td>
                                                                            <td>
                                                                                <div class="status-toggle">
                                                                                    <input type="checkbox" id="status_2" class="check" checked>
                                                                                    <label for="status_2" class="checktoggle">checkbox</label>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>Reports</td>
                                                                            <td>
                                                                                <div class="status-toggle">
                                                                                    <input type="checkbox" id="status_3" class="check" checked>
                                                                                    <label for="status_3" class="checktoggle">checkbox</label>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>*@
                        </div>
                    </div>



                </div>
            </div>
            <div class="row">
                <div class="col-md-6">

                </div>
                <div class="col-md-6">
                    <div id="Alertdiv" class="myAlert-bottom alert alert-success">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong id="Message"></strong>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="delete_modal" aria-hidden="true" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            @*<div class="modal-header" style="background-color:#1b5a90">
                    <h5 class="modal-title">Delete User</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>*@
            <div class="modal-body">
                <div class="form-content p-2">
                    <h4 class="modal-title">Delete</h4>
                    <p class="mb-4">Are you sure you want to Permanently Delete this User?</p>
                    <button type="button" onclick="UpdateUserStatus()" class="btn btn-danger">Yes </button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
@*<script src="https://code.jquery.com/jquery-3.5.1.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.7/js/dataTables.responsive.min.js"></script>*@


<script src="~/assets/js/jquery-3.5.1.js"></script>
<script src="~/assets/js/sweetalert.min.js"></script>
<script src="~/assets/js/datatable/jquery.dataTables.min.js"></script>
<script src="~/assets/js/datatable/dataTables.responsive.min.js"></script>


<script type="text/javascript">

    function UpdateStartDate(Datename,TerminalKey,UserId) {

     var startdate =    $("#" + Datename).val();


        var model = {
            UserId: UserId,
            TerminalKey: TerminalKey,
            StartDate: startdate,
        };


        $.ajax({

            url: '@Url.Action("UpdateUserTerminalStartDate", "User")',
            type: "POST",
            data: JSON.stringify(model),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                if (data == 1) {

                    document.getElementById("Message").innerHTML = "Terminal Start Date Updated";
                    document.getElementById("Message").style.color = "#3c763d";
                    document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                    document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";

                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }
                

            }




        });

    }


    function DeleteUser() {
        var ddlUserStatus = $("#ddlUserStatus").val();


        if (ddlUserStatus == "-1") {

            $('#delete_modal').modal('show');
        }
    }

    function UpdateUserStatus() {
        var txtUserId = $("#txtUserId").val();
        $.ajax({
            url: '@Url.Action("UpdateUserStatus", "User")',
            type: "POST",
            dataType: 'JSON',
            data: { User_ID: txtUserId },
            success: function (result) {
                window.location = result.url;
            },
            error: function (err) {

            }
        });


    }

    function ReloadAccessLevelMenu() {

        if ($("#ddlAccessLevel").val() == 0) {
            return;
        }

        $.ajax({
            url: '@Url.Action("ReloadUserPermissions", "User")',
            type: "POST",
            dataType: 'JSON',
            data: { User_ID: $("#txtUserId").val(), ddlAccessLevel: $("#ddlAccessLevel").val() },
            success: function (result) {
                window.location = result.url;
            },
            error: function (err) {

            }
        });

        //$.get("/User/Edit",
        //    { User_ID: $("#txtUserId").val(), ddlAccessLevel: $("#ddlAccessLevel").val() },

        //    function (response) {
        //        alert(response);
        //    /*    alert("Hello: " + response.Name + " .\nCurrent Date and Time: " + response.DateTime);*/
        //        location.reload();
        //    }
        //);
    }

    //Function to save terminal comments
    function SaveAccessLevel() {

        /*var TerminalKey = $("#txtTerminalName").val();*/


        var txtAccessLevel = $("#txtAccessLevel").val();

        if (txtAccessLevel.trim() == "")

        {

            $("#lblEnterAccessLevel").fadeIn();
            $("#lblEnterAccessLevel").fadeOut(7000);
            $("#txtAccessLevel").focus();
            return;
        }

        $.ajax({
          /*  url: '/User/SaveAccessLevel',*/
             url: '@Url.Action("SaveAccessLevel", "User")',
            type: "POST",
            dataType: 'JSON',
            data: {txtAccessLevel: txtAccessLevel},
            success: function (result) {
                var Documents;
                if (result == "1") {
                    //$("#lblTerminalSaveMessage").fadeIn();
                    //$("#lblTerminalSaveMessage").fadeOut(5000);
                    $("html, body").animate({ scrollTop: 0 }, "slow");

                    swal({
                        title: "Access Level: ", text: "Access Level Added Successfully", type: "success", timer: 2000,
                        showConfirmButton: false
                    }, function () {
                            location.reload();
                    });

                }
                else if (result != "1") {
                    swal({
                        title: "Save Access Level?",
                        text: result,
                        type: "warning",
                        showCancelButton: true,
                        closeOnConfirm: false
                    },
                    );
                }

            },
            error: function (err) {

            }
        });


    }




    $(document).ready(function () {
        $('#tblUserTerminalList').DataTable({
            searching: true, paging: true, sorting: true,
        });

        $('#tblUserSegmentedTerminalList').DataTable({
            searching: true, paging: true, sorting: true,
        });

        var ddlAccessLevelMenu = $("#ddlAccessLevel").val();


        if (ddlAccessLevelMenu == 0) {
            $("#ddlAccessLevel").focus();
            document.getElementById("ErrorAccessMessage").innerHTML = "Select Access Level";
            document.getElementById("ErrorAccessMessage").style.color = "#a94442";
            document.getElementById("ErrorSelectAccessLevl").style.backgroundColor = '#f2dede';
            document.getElementById("ErrorSelectAccessLevl").style.borderColor = "#ebcccc";

            $("#ErrorSelectAccessLevl").fadeIn();
            /*$("#Alertdiv").fadeOut(5000);*/
        }
        else
        {
            $("#ErrorSelectAccessLevl").fadeOut(5000);
        }

        jQuery('#ddlRegion').select2();
        jQuery('#ddlAccessLevel').select2();
        jQuery('#ddlUserAccessLevel').select2();


        var UserAccessLevelId = @Html.Raw(Json.Encode(ViewBag.UserAccessLevelId));

        $("#ddlUserAccessLevel").val(UserAccessLevelId);
        $('#ddlUserAccessLevel').select2().trigger('change');

        var UserRegionId = @Html.Raw(Json.Encode(ViewBag.RegionID));

        $("#ddlRegion").val(UserRegionId);
        $('#ddlRegion').select2().trigger('change');

        $(".nav li").removeClass("active");
        $('#UserManagement').addClass('active');


            @*var i = @Html.Raw(Json.Encode(ViewBag.TabStatus));*@


        var i = '@TempData["TabStatus"]';


        var Actionstatus = '@TempData["ActionStatus"]';

        if (i == "1") {
            $('.nav-tabs a[href="#solid-tab2"]').tab('show');

            if (Actionstatus == 4) {
                document.getElementById("Message").innerHTML = "All Terminals Rights Assigned";
                document.getElementById("Message").style.color = "#3c763d";
                document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";
                $("#Alertdiv").fadeIn();
                $("#Alertdiv").fadeOut(8000);
            }
            else if (Actionstatus == 3) {
                document.getElementById("Message").innerHTML = "All Terminals Rights Unassigned";
                document.getElementById("Message").style.color = "#a94442";
                document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                $("#Alertdiv").fadeIn();
                $("#Alertdiv").fadeOut(8000);
            }


        }
        else if (i == "2") {
            $('.nav-tabs a[href="#solid-tab3"]').tab('show');

           if (Actionstatus == 5) {
                document.getElementById("Message").innerHTML = "All  Segmented Terminals Rights Unassigned";
                document.getElementById("Message").style.color = "#a94442";
                document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                $("#Alertdiv").fadeIn();
                $("#Alertdiv").fadeOut(8000);
            }
            else if (Actionstatus == 6) {
                document.getElementById("Message").innerHTML = "All  Segmented Terminals Rights Assigned";
                document.getElementById("Message").style.color = "#3c763d";
                document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";
                $("#Alertdiv").fadeIn();
                $("#Alertdiv").fadeOut(8000);
            }


        }
        else if (i=="3")
        {
            $('.nav-tabs a[href="#solid-tab4"]').tab('show');

        }



    });

    function UserTerminalRightsStatus(status, UserId, TerminalKey, ActionType) {
        var status;
        if (status.checked) {
            status = 1;
        }
        else {
            status = 0;
        }


        var model = {
            UserId: UserId,

            status: status,
            TerminalKey: TerminalKey,
            ActionType: ActionType,
        };


        $.ajax({

            url: '@Url.Action("UpdateUserTerminalRights", "User")',
            type: "POST",
            /*url: "/User/UpdateUserTerminalRights",*/

            /*url: "/User/UpdateUserTerminalRights/?UserId=" + UserId + "&status=" + status + "&TerminalKey =" + TerminalKey + "",*/

            data: JSON.stringify(model),
            /*data: { Comments: Comments, TerminalKey: TerminalKey },*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                if (data == 1) {

                    document.getElementById("Message").innerHTML = "Terminal Rights Assigned";
                    document.getElementById("Message").style.color = "#3c763d";
                    document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                    document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";

                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }
                else if (data == 0)
                {
                    document.getElementById("Message").innerHTML = "Terminal Rights Unassigned";
                    document.getElementById("Message").style.color = "#a94442";
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);

                }
                else if (data == 3) {
                    document.getElementById("Message").innerHTML = "All Terminals Rights Unassigned";
                    document.getElementById("Message").style.color = "#a94442";
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(8000);
                    location.reload();

                }
                else if (data == 4) {
                    document.getElementById("Message").innerHTML = "All Terminals Rights Assigned";
                    document.getElementById("Message").style.color = "#3c763d";
                    document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                    document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(8000);

                    location.reload();
                }
                else {
                    document.getElementById("Message").innerHTML = data;
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }


            }




        });

    }




    function UserSegmentedTerminalRightsStatus(status, UserId, TerminalKey, ActionType) {
        var status;
        if (status.checked) {
            status = 1;
        }
        else {
            status = 0;
        }


        var model = {
            UserId: UserId,

            status: status,
            TerminalKey: TerminalKey,
            ActionType: ActionType,
        };


        $.ajax({

             url: '@Url.Action("UpdateSegmentedUserTerminalRights", "User")',
            type: "POST",
            /*url: "/User/UpdateSegmentedUserTerminalRights",*/
            /*url: "/User/UpdateUserTerminalRights/?UserId=" + UserId + "&status=" + status + "&TerminalKey =" + TerminalKey + "",*/

            data: JSON.stringify(model),
            /*data: { Comments: Comments, TerminalKey: TerminalKey },*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                if (data == 1) {

                    document.getElementById("Message").innerHTML = "Segmented Terminal Rights Assigned";
                    document.getElementById("Message").style.color = "#3c763d";
                    document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                    document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";

                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }
                else if (data == 0) {
                    document.getElementById("Message").innerHTML = "Segmented Terminal Rights Unassigned";
                    document.getElementById("Message").style.color = "#a94442";
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);

                }
                else if (data == 3) {
                    document.getElementById("Message").innerHTML = "All Segmented Terminals Rights Unassigned";
                    document.getElementById("Message").style.color = "#a94442";
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(8000);
                    location.reload();

                }
                else if (data == 4) {
                    document.getElementById("Message").innerHTML = "All Segmented Terminals Rights Assigned";
                    document.getElementById("Message").style.color = "#3c763d";
                    document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                    document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(8000);

                    location.reload();
                }
                else {
                    document.getElementById("Message").innerHTML = data;
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }


            }




        });

    }





    function UserMenuRightsStatus(status, AccessId, Page_ID, ParentId, Counts) {

        var ddlAccessLevelMenu = $("#ddlAccessLevel").val();
        if (ddlAccessLevelMenu == 0) {
            $("#ddlAccessLevel").focus();
            document.getElementById("ErrorAccessMessage").innerHTML = "Select Access Level";
            document.getElementById("ErrorAccessMessage").style.color = "#a94442";
            document.getElementById("ErrorSelectAccessLevl").style.backgroundColor = '#f2dede';
            document.getElementById("ErrorSelectAccessLevl").style.borderColor = "#ebcccc";

            $("#ErrorSelectAccessLevl").fadeIn();
        /*$("#Alertdiv").fadeOut(5000);*/
            return;
        }
        else {
            $("#ErrorSelectAccessLevl").fadeOut(5000);
        }




        var status;
        if (status.checked) {
            status = 1;
        }
        else {
            status = 0;
        }


        var model = {
            AccessId: AccessId,

            status: status,
            Page_ID: Page_ID,
            ParentId: ParentId,
            Counts: Counts,
        };


        $.ajax({
              url: '@Url.Action("UpdateMenuRights", "User")',

            type: "POST",

            /*url: "/User/UpdateUserTerminalRights/?UserId=" + UserId + "&status=" + status + "&TerminalKey =" + TerminalKey + "",*/

            data: JSON.stringify(model),
            /*data: { Comments: Comments, TerminalKey: TerminalKey },*/
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                if (data == 1) {

                    document.getElementById("Message").innerHTML = "Menu Rights Assigned";
                    document.getElementById("Message").style.color = "#3c763d";
                    document.getElementById("Alertdiv").style.backgroundColor = '#d4edda';
                    document.getElementById("Alertdiv").style.borderColor = "#c3e6cb";

                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }
                else if (data == 0) {
                    document.getElementById("Message").innerHTML = "Menu Rights Unassigned";
                    document.getElementById("Message").style.color = "#a94442";
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);

                }
                else {
                    document.getElementById("Message").innerHTML = data;
                    document.getElementById("Alertdiv").style.backgroundColor = '#f2dede';
                    document.getElementById("Alertdiv").style.borderColor = "#ebcccc";
                    $("#Alertdiv").fadeIn();
                    $("#Alertdiv").fadeOut(5000);
                }


            }




        });

    }






    //$("#txtUser_ID").blur(function () {
    //    var UserId = $("#txtUser_ID").val();
    //    $.ajax({
    //        url: '/User/VerifyUserId',
    //        type: "GET",
    //        dataType: 'JSON',
    //        data: { UserId: UserId },
    //        success: function (result) {

    //            if (result == "1") {

    //                $("#lblUserIdDuplicate").fadeIn();
    //                $("#lblUserIdDuplicate").fadeOut(9000);
    //                $("#txtUser_ID").focus();
    //                return;

    //            }
    //            else {
    //                $("#lblUserIdDuplicate").css("display", "none");
    //            }
    //            //else if (result != "0" && result != "1") {
    //            //    $("#lblUserIdDuplicate").fadeIn();
    //            //    document.getElementById("lblUserIdDuplicate").innerHTML = result;
    //            //    $("#txtUser_ID").focus();
    //            //    return;
    //            //}

    //        },
    //        error: function (err) {

    //        }
    //    });
    //});




    function SaveUserInformation() {
        var User_Primaryid = $("#txtUser_PID").val();
        var UserId = $("#txtUser_ID").val();
        var ddlUserStatus = $("#ddlUserStatus").val();
        var txtUser_Password = $("#txtUser_Password").val();
        var txtUser_Confirm_Password = $("#txtUser_Confirm_Password").val();
        var txtFirstName = $("#txtFirstName").val();
        var txtLastName = $("#txtLastName").val();
        var ddlUserTitle = $("#ddlUserTitle").val();
        var txtCompany = $("#txtCompany").val();
        var txtAddress = $("#txtAddress").val();
        var txtCity = $("#txtCity").val();
        var ddlRegion = $("#ddlRegion").val();
        var txtPostalCode = $("#txtPostalCode").val();
        var txtPhone = $("#txtPhone").val();
        var txtPhoneOther = $("#txtPhoneOther").val();
        var txtUserEmail = $("#txtUserEmail").val();
        var ddlUserRoll = $("#ddlUserRoll").val();
        var ddlUserAccessLevel = $("#ddlUserAccessLevel").val();
        var ddlUserProfileStatus = $("#ddlUserStatus").val();

        if (UserId == "") {
            $("#lblUserIdError").fadeIn();
            $("#lblUserIdError").fadeOut(7000);
            $("#txtUser_ID").focus();
            return;
        }

        if (txtUser_Password == "") {
            $("#lblUserPassword").fadeIn();
            $("#lblUserPassword").fadeOut(7000);
            $("#txtUser_Password").focus();
            return;
        }

        if (txtUser_Confirm_Password == "") {
            $("#lblUserConfirmPassword").fadeIn();
            $("#lblUserConfirmPassword").fadeOut(7000);
            $("#txtUser_Confirm_Password").focus();
            return;
        }

        else if (txtUser_Confirm_Password != txtUser_Password) {
            $("#lblUserPasswordUnMatched").fadeIn();
            $("#lblUserPasswordUnMatched").fadeOut(7000);
            $("#txtUser_Confirm_Password").focus();
            return;
        }

        //if (ddlUserAccessLevel == 0) {
        //    $("#lblAccessLevelError").fadeIn();
        //    $("#lblAccessLevelError").fadeOut(7000);
        //    $("#ddlUserAccessLevel").focus();
        //    return;
        //}



        var UserStaus;
        if (ddlUserStatus == "1") {
            UserStaus = true;
        }
        else if (ddlUserStatus == "0") {
            UserStaus = false;
        }

        if (txtFirstName == "") {
            txtFirstName = " ";
        }
        if (txtLastName == "") {
            txtLastName = " ";
        }
        if (txtCompany == "") {
            txtCompany = " ";
        }
        if (txtAddress == "") {
            txtAddress = " ";
        }
        if (txtCity == "") {
            txtCity = " ";
        }
        if (txtPostalCode == "") {
            txtPostalCode = " ";
        }
        if (txtPhone == "") {
            txtPhone = " ";
        }
        if (txtPhoneOther == "") {
            txtPhoneOther = " ";
        }
        if (txtUserEmail == "") {
            txtUserEmail = " ";
        }

        var UserStaus;
        if (ddlUserStatus == "1") {
            UserStaus = true;
        }
        else if (ddlUserStatus == "0") {
            UserStaus = false;
        }




        var UserInfo = {};

        UserInfo.User_ID = User_Primaryid;
        UserInfo.UserID = UserId;
        UserInfo.Password = txtUser_Password;
        UserInfo.Email_Adress = txtUserEmail;
        UserInfo.IsActive = UserStaus;
        UserInfo.FirstName = txtFirstName;
        UserInfo.LastName = txtLastName;
        UserInfo.Title = ddlUserTitle;

        UserInfo.Company = txtCompany;
        UserInfo.Address = txtAddress;
        UserInfo.City = txtCity;
        UserInfo.Province = ddlRegion;
        UserInfo.Postalcode = txtPostalCode;
        UserInfo.Phonecell = txtPhone;
        UserInfo.Phoneother = txtPhoneOther;
        UserInfo.RollAssigned = ddlUserRoll;
        UserInfo.Access_Level_ID = ddlUserAccessLevel;
        UserInfo.IsDeleted = ddlUserProfileStatus;

        $.ajax({

                url: '@Url.Action("UpdateUser", "User")',
            type: "POST",

            data: '{UserInformation: ' + JSON.stringify(UserInfo) + '}',
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                if (result.status == "1") {

                    swal({
                        title: "Modify User: " + result.userid, text: "User Updated Successfully", type: "success",
                        timer: 2000,
                        showConfirmButton: false
                    }, function () {
                        window.location.href = result.url;
                    });

                }
                else if (result.status != "1") {
                    swal({
                        title: "Modify User:",
                        text: result.data,
                        type: "warning",
                        showCancelButton: true,
                        closeOnConfirm: false
                    },
                    );
                }
            },
            error: function () {
                alert("Error while inserting data");
            }
        });

    }


    function AvailableAllTerminalToUser()
    {
        var UserPrimaryKey = $("#txtUser_PID").val();
        var multipleValues = $("#ddlAvailableTerminal").val();

        var model = {
            AvailableTerminals: multipleValues,

            User_Id: UserPrimaryKey,
        };


        $.ajax({
                url: '@Url.Action("AssignAllTerminalToUser", "User")',
            type: "POST",
            /*url: 'User/AssignAllTerminalToUser',*/
            data: JSON.stringify(model),
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                if (result.status == "1") {

                    //swal({
                    //    title: "New User: " + result.userid, text: "User Added Successfully", type: "success",
                    //    timer: 2000,
                    //    showConfirmButton: false
                    //}, function () {
                    //    window.location.href = result.url;
                    //});

                }
                else if (result.status != "1") {
                    //swal({
                    //    title: "Add New User:",
                    //    text: result,
                    //    type: "warning",
                    //    showCancelButton: true,
                    //    closeOnConfirm: false
                    //},
                    //);
                }
            },
            error: function () {
                alert("Error while inserting data");
            }
        });

    }



    //$('#newPassword, #confirm_password').on('keyup', function () {
    //    if ($('#newPassword').val() == $('#confirm_password').val()) {
    //        $('#message').html('Matching').css('color', 'white');
    //        document.getElementById("Register").disabled = false;
    //    } else {
    //        $('#message').html('Not Matching').css('color', 'red');
    //        document.getElementById("Register").disabled = true;
    //    }
    //});





</script>